{"version":3,"file":"js/57.9b3d07f3.js","mappings":"6LACA,MACMA,EAAa,CACjBC,MAAO,YACPC,IAAK,aAEA,SAASC,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GAC1D,MAAMC,EAA2B,IAC3BC,EAA+B,IACrC,OAAO,WAAc,QAAoB,KAAW,KAAM,EAAC,IAAAC,GAAoB,MAAOZ,EAAY,KAAM,MAAM,QAAaU,EAA0B,CACnJG,SAAUT,EAAKU,WAAWD,SAC1BE,OAAQX,EAAKU,WAAWC,QACvB,KAAM,EAAG,CAAC,WAAY,YAAY,QAAaJ,EAA8B,CAC9EK,aAAcZ,EAAKU,YAClB,KAAM,EAAG,CAAC,kBAAmB,GAClC,C,sECRA,GAAe,QAAgB,CAC7BG,WAAY,CACVC,aAAY,IACZC,iBAAgB,KAElB,KAAAC,GACE,MAAMC,GAAY,UAClBC,EAAA,EAAIC,mBAAqB,wLACzB,MAAMT,GAAa,QAAI,IAAI,KAAW,CACpCU,QAAS,CAAC,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,6BAA8B,8BACtxBC,YAAa,CACXC,eAAgB,GAChBC,iBAAkB,KAClBC,cAAe,EACfC,aAAc,EACdC,WAAY,EACZC,iBAAkB,KAClBC,iBAAkB,KAClBC,eAAgB,GAChBC,iBAAkB,OAClBC,cAAe,GACfC,aAAc,GACdC,WAAY,EACZC,iBAAkB,GAClBC,iBAAkB,GAClBC,eAAgB,MAElBC,UAAW,CACTC,YAAa,EACbC,aAAc,MACdC,cAAe,GACfC,UAAW,EACXC,QAAS,EACTC,MAAO,EACPC,UAAW,EACXC,cAAe,KACfC,cAAe,MAEjBC,OAAQ,CAAC,kBAAoB,kBAAoB,kBAAoB,oBACrEC,aAAc,CACZC,KAAM,OACNC,MAAO,OACPC,KAAM,OACNC,MAAO,QAETC,WAAY,CAAC,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,2BAA4B,4BACruBC,WAAY,sCACZC,YAAa,CACXnC,QAAS,CAAC,KAAM,KAChBoC,UAAW,CAAC,KAAM,KAClBF,WAAY,CAAC,KAAM,UAGjBG,EAAUC,gBACRhD,EAAWiD,MAAMC,oBACvB,MAAMC,EAAO,IAAIC,EAAA,EAAO7C,EAAU0C,MAAO,CACvCI,YAAa,IAYf,SAASC,EAAoBC,EAAOC,EAASC,GAC3C,GAAa,UAATA,EAAkB,CACpB,MAAMC,EAAKH,EAAMI,QAAQC,IACzB5D,EAAWiD,MAAM5D,OAAOqE,EAAI,IAAeG,QAAQN,EAAMI,QAAQG,aAAaC,gBAChF,CACF,CAZAZ,EAAKa,OAAOC,QAAQ,CAClBC,YAAa,IAAkBC,YAAY,WAAY,UAAW,KAClEC,YAAa,CACXC,QAAS,IAAYC,UAAU,GAC/BC,MAAO,IAAYD,WAAW,OASlCnB,EAAKI,MAAMiB,gCAAkC,CAAClB,EAAoB,EAGpE,OADA,QAAUP,GACH,CACLxC,YACAP,aAEJ,I,QCjFF,MAAMyE,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASpF,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://graduate/./src/views/CesiumFlowInstance.vue?8687","webpack://graduate/./src/views/CesiumFlowInstance.vue","webpack://graduate/./src/views/CesiumFlowInstance.vue?2f71"],"sourcesContent":["import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-102b695e\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\",\n  ref: \"container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_control_panel = _resolveComponent(\"control-panel\");\n  const _component_process_component = _resolveComponent(\"process-component\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, null, 512), _createVNode(_component_control_panel, {\n    eventObj: _ctx.flowCesium.eventObj,\n    option: _ctx.flowCesium.option\n  }, null, 8, [\"eventObj\", \"option\"]), _createVNode(_component_process_component, {\n    flowInstance: _ctx.flowCesium\n  }, null, 8, [\"flowInstance\"])], 64);\n}","import { defineComponent, ref, onMounted } from \"vue\";\nimport ProcessComponent from \"@/components/ProcessComponent.vue\";\nimport ControlPanel from \"@/components/ControlPanel.vue\";\nimport { FlowCesium } from \"@/utils/flow-utils.js\";\nimport { Ion, Viewer } from \"cesium\";\nimport * as Cesium from \"cesium\";\nimport \"cesium/Build/Cesium/Widgets/widgets.css\";\nexport default defineComponent({\n  components: {\n    ControlPanel,\n    ProcessComponent\n  },\n  setup() {\n    const container = ref();\n    Ion.defaultAccessToken = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIxNjRiYjA0OS0wYTNjLTQwODItYjhmOS1kNTA3NTNlMzhiZWIiLCJpZCI6MTcxNjM3LCJpYXQiOjE2OTcxODE0NDN9.NXFWJtgHshH3lJbrl9QmfjGM3-KRRoQpy5827zZJJV0\";\n    const flowCesium = ref(new FlowCesium({\n      seeding: [\"/flow/texture/mask_100.png\", \"/flow/texture/mask_101.png\", \"/flow/texture/mask_102.png\", \"/flow/texture/mask_103.png\", \"/flow/texture/mask_104.png\", \"/flow/texture/mask_105.png\", \"/flow/texture/mask_106.png\", \"/flow/texture/mask_107.png\", \"/flow/texture/mask_108.png\", \"/flow/texture/mask_109.png\", \"/flow/texture/mask_110.png\", \"/flow/texture/mask_111.png\", \"/flow/texture/mask_112.png\", \"/flow/texture/mask_113.png\", \"/flow/texture/mask_114.png\", \"/flow/texture/mask_115.png\", \"/flow/texture/mask_116.png\", \"/flow/texture/mask_117.png\", \"/flow/texture/mask_118.png\", \"/flow/texture/mask_119.png\", \"/flow/texture/mask_120.png\", \"/flow/texture/mask_121.png\", \"/flow/texture/mask_122.png\", \"/flow/texture/mask_123.png\", \"/flow/texture/mask_124.png\", \"/flow/texture/mask_125.png\", \"/flow/texture/mask_126.png\"],\n      constraints: {\n        minSpeedFactor: 0.5,\n        minTrajectoryNum: 4096,\n        minSegmentNum: 3,\n        minFillWidth: 1,\n        minAAWidth: 1,\n        minFixedDropRate: 0.001,\n        minExtraDropRate: 0.001,\n        maxSpeedFactor: 10,\n        maxTrajectoryNum: 262144,\n        maxSegmentNum: 16,\n        maxFillWidth: 25,\n        maxAAWidth: 5,\n        maxFixedDropRate: 0.1,\n        maxExtraDropRate: 0.2,\n        maxTextureSize: 4096\n      },\n      parameter: {\n        speedFactor: 2,\n        tracksNumber: 16384,\n        segmentNumber: 16,\n        fillWidth: 1,\n        aaWidth: 2,\n        color: 0,\n        primitive: 0,\n        fixedDropRate: 0.003,\n        extraDropRate: 0.002\n      },\n      extent: [0.8334519409367115, 0.4087464036632672, 0.8388303296774701, 0.40586521884815613],\n      flowBoundary: {\n        uMax: 2.3461,\n        uMin: -2.1176,\n        vMax: 2.0175,\n        vMin: -1.8959\n      },\n      flowFields: [\"/flow/texture/uv_100.png\", \"/flow/texture/uv_101.png\", \"/flow/texture/uv_102.png\", \"/flow/texture/uv_103.png\", \"/flow/texture/uv_104.png\", \"/flow/texture/uv_105.png\", \"/flow/texture/uv_106.png\", \"/flow/texture/uv_107.png\", \"/flow/texture/uv_108.png\", \"/flow/texture/uv_109.png\", \"/flow/texture/uv_110.png\", \"/flow/texture/uv_111.png\", \"/flow/texture/uv_112.png\", \"/flow/texture/uv_113.png\", \"/flow/texture/uv_114.png\", \"/flow/texture/uv_115.png\", \"/flow/texture/uv_116.png\", \"/flow/texture/uv_117.png\", \"/flow/texture/uv_118.png\", \"/flow/texture/uv_119.png\", \"/flow/texture/uv_120.png\", \"/flow/texture/uv_121.png\", \"/flow/texture/uv_122.png\", \"/flow/texture/uv_123.png\", \"/flow/texture/uv_124.png\", \"/flow/texture/uv_125.png\", \"/flow/texture/uv_126.png\"],\n      projection: \"/flow/texture/projection_cesium.png\",\n      textureSize: {\n        seeding: [1024, 558],\n        flowField: [1024, 558],\n        projection: [1024, 2048]\n      }\n    }));\n    const initMap = async () => {\n      await flowCesium.value.prepareAsyncImage();\n      const view = new Viewer(container.value, {\n        msaaSamples: 2\n        // requestRenderMode: true,\n        // maximumRenderTimeChange: Infinity,\n      });\n\n      view.camera.setView({\n        destination: Cesium.Cartesian3.fromDegrees(121.024075, 31.765318, 400000),\n        orientation: {\n          heading: Cesium.Math.toRadians(0.0),\n          pitch: Cesium.Math.toRadians(-90.0)\n        }\n      });\n      function _render_three_frame(scene, frustum, pass) {\n        if (pass === \"GLOBE\") {\n          const gl = scene.context._gl;\n          flowCesium.value.render(gl, Cesium.Matrix4.toArray(scene.context.uniformState.viewProjection));\n        }\n      }\n      view.scene.render_external_frame_functions = [_render_three_frame];\n    };\n    onMounted(initMap);\n    return {\n      container,\n      flowCesium\n    };\n  }\n});","/* unplugin-vue-components disabled */import { render } from \"./CesiumFlowInstance.vue?vue&type=template&id=102b695e&scoped=true&ts=true\"\nimport script from \"./CesiumFlowInstance.vue?vue&type=script&lang=ts\"\nexport * from \"./CesiumFlowInstance.vue?vue&type=script&lang=ts\"\n\nimport \"./CesiumFlowInstance.vue?vue&type=style&index=0&id=102b695e&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-102b695e\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","ref","render","_ctx","_cache","$props","$setup","$data","$options","_component_control_panel","_component_process_component","_","eventObj","flowCesium","option","flowInstance","components","ControlPanel","ProcessComponent","setup","container","Ion","defaultAccessToken","seeding","constraints","minSpeedFactor","minTrajectoryNum","minSegmentNum","minFillWidth","minAAWidth","minFixedDropRate","minExtraDropRate","maxSpeedFactor","maxTrajectoryNum","maxSegmentNum","maxFillWidth","maxAAWidth","maxFixedDropRate","maxExtraDropRate","maxTextureSize","parameter","speedFactor","tracksNumber","segmentNumber","fillWidth","aaWidth","color","primitive","fixedDropRate","extraDropRate","extent","flowBoundary","uMax","uMin","vMax","vMin","flowFields","projection","textureSize","flowField","initMap","async","value","prepareAsyncImage","view","Viewer","msaaSamples","_render_three_frame","scene","frustum","pass","gl","context","_gl","toArray","uniformState","viewProjection","camera","setView","destination","fromDegrees","orientation","heading","toRadians","pitch","render_external_frame_functions","__exports__"],"sourceRoot":""}
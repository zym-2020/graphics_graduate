{"version":3,"file":"js/36.280f815a.js","mappings":"6LACA,MACMA,EAAa,CACjBC,MAAO,YACPC,IAAK,aAEA,SAASC,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GAC1D,MAAMC,EAA2B,IAC3BC,EAA+B,IACrC,OAAO,WAAc,QAAoB,KAAW,KAAM,EAAC,IAAAC,GAAoB,MAAOZ,EAAY,KAAM,MAAM,QAAaU,EAA0B,CACnJG,SAAUT,EAAKU,WAAWD,SAC1BE,OAAQX,EAAKU,WAAWC,QACvB,KAAM,EAAG,CAAC,WAAY,YAAY,QAAaJ,EAA8B,CAC9EK,aAAcZ,EAAKU,YAClB,KAAM,EAAG,CAAC,kBAAmB,GAClC,C,0CCTA,GAAe,QAAgB,CAC7BG,WAAY,CACVC,aAAY,IACZC,iBAAgB,KAElB,KAAAC,GACE,MAAMC,GAAY,UAClB,IAAIC,EACJ,MAAMR,GAAa,QAAI,IAAI,KAAW,CACpCS,QAAS,CAAC,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,+CAAoE,gDAClvDC,YAAa,CACXC,eAAgB,GAChBC,iBAAkB,KAClBC,cAAe,EACfC,aAAc,EACdC,WAAY,EACZC,iBAAkB,KAClBC,iBAAkB,KAClBC,eAAgB,GAChBC,iBAAkB,OAClBC,cAAe,GACfC,aAAc,GACdC,WAAY,EACZC,iBAAkB,GAClBC,iBAAkB,GAClBC,eAAgB,MAElBC,UAAW,CACTC,YAAa,EACbC,aAAc,MACdC,cAAe,GACfC,UAAW,EACXC,QAAS,EACTC,MAAO,EACPC,UAAW,EACXC,cAAe,KACfC,cAAe,MAEjBC,OAAQ,CAAC,kBAAoB,kBAAoB,kBAAoB,oBACrEC,aAAc,CACZC,KAAM,OACNC,MAAO,OACPC,KAAM,OACNC,MAAO,QAETC,WAAY,CAAC,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,6CAAkE,8CACjsDC,WAAY,wDACZC,YAAa,CACXnC,QAAS,CAAC,KAAM,KAChBoC,UAAW,CAAC,KAAM,KAClBF,WAAY,CAAC,KAAM,UAGjBG,EAAUC,IACd,MAAMC,EAAS,CACbzC,UAAWA,EAAU0C,MACrBC,MAAO,oDACPC,OAAQ,CAAC,WAAY,WACrBC,KAAM,IACNC,WAAW,EACXC,WAAW,EACXC,YAAa,6FAyCf/C,EAAM,IAAI,SAAawC,GACvBxC,EAAIgD,GAAG,QAAQ,KACbhD,EAAIiD,SAASV,EAAM,GACnB,EAMJ,OAJA,SAAUW,UACR,MAAMX,QAAc/C,EAAWiD,MAAMU,oBAAoB,QACzDb,EAAQC,EAAM,IAET,CACLxC,YACAP,aAEJ,I,QClHF,MAAM4D,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASvE,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://graduate/./src/views/MapboxFlowInstance.vue?29fe","webpack://graduate/./src/views/MapboxFlowInstance.vue","webpack://graduate/./src/views/MapboxFlowInstance.vue?efd6"],"sourcesContent":["import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-7e0dc9fe\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\",\n  ref: \"container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_control_panel = _resolveComponent(\"control-panel\");\n  const _component_process_component = _resolveComponent(\"process-component\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, null, 512), _createVNode(_component_control_panel, {\n    eventObj: _ctx.flowMapbox.eventObj,\n    option: _ctx.flowMapbox.option\n  }, null, 8, [\"eventObj\", \"option\"]), _createVNode(_component_process_component, {\n    flowInstance: _ctx.flowMapbox\n  }, null, 8, [\"flowInstance\"])], 64);\n}","import { defineComponent, onMounted, ref } from \"vue\";\nimport mapBoxGl from \"mapbox-gl\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport ProcessComponent from \"@/components/ProcessComponent.vue\";\nimport ControlPanel from \"@/components/ControlPanel.vue\";\nimport { FlowMapbox } from \"@/utils/flow-utils.js\";\nexport default defineComponent({\n  components: {\n    ControlPanel,\n    ProcessComponent\n  },\n  setup() {\n    const container = ref();\n    let map;\n    const flowMapbox = ref(new FlowMapbox({\n      seeding: [`${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_100.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_101.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_102.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_103.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_104.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_105.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_106.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_107.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_108.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_109.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_110.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_111.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_112.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_113.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_114.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_115.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_116.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_117.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_118.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_119.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_120.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_121.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_122.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_123.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_124.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_125.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/mask_126.png`],\n      constraints: {\n        minSpeedFactor: 0.5,\n        minTrajectoryNum: 4096,\n        minSegmentNum: 3,\n        minFillWidth: 1,\n        minAAWidth: 1,\n        minFixedDropRate: 0.001,\n        minExtraDropRate: 0.001,\n        maxSpeedFactor: 10,\n        maxTrajectoryNum: 262144,\n        maxSegmentNum: 16,\n        maxFillWidth: 25,\n        maxAAWidth: 5,\n        maxFixedDropRate: 0.1,\n        maxExtraDropRate: 0.2,\n        maxTextureSize: 4096\n      },\n      parameter: {\n        speedFactor: 2,\n        tracksNumber: 16384,\n        segmentNumber: 16,\n        fillWidth: 1,\n        aaWidth: 2,\n        color: 0,\n        primitive: 0,\n        fixedDropRate: 0.003,\n        extraDropRate: 0.002\n      },\n      extent: [0.8334519409367115, 0.4087464036632672, 0.8388303296774701, 0.40586521884815613],\n      flowBoundary: {\n        uMax: 2.3461,\n        uMin: -2.1176,\n        vMax: 2.0175,\n        vMin: -1.8959\n      },\n      flowFields: [`${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_100.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_101.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_102.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_103.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_104.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_105.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_106.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_107.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_108.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_109.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_110.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_111.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_112.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_113.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_114.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_115.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_116.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_117.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_118.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_119.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_120.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_121.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_122.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_123.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_124.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_125.png`, `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/uv_126.png`],\n      projection: `${process.env.VUE_APP_RESOURCE_PREFIX}/flow/texture/projection_mapbox.png`,\n      textureSize: {\n        seeding: [1024, 558],\n        flowField: [1024, 558],\n        projection: [1024, 2048]\n      }\n    }));\n    const initMap = layer => {\n      const mapOpt = {\n        container: container.value,\n        style: \"mapbox://styles/johnnyt/clblx2t3v000a14proaq4e9qv\",\n        center: [121.024075, 31.765318],\n        zoom: 8.8,\n        useWebGL2: true,\n        antialias: true,\n        accessToken: \"pk.eyJ1Ijoiam9obm55dCIsImEiOiJja2xxNXplNjYwNnhzMm5uYTJtdHVlbTByIn0.f1GfZbFLWjiEayI6hb_Qvg\"\n        // style: {\n        //   version: 8,\n        //   sources: {\n        //     tdtVec: {\n        //       type: \"raster\",\n        //       tiles: [\n        //         \"http://t0.tianditu.com/vec_w/wmts?tk=35a94ab5985969d0b93229c30db6abd6&SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=vec&STYLE=default&TILEMATRIXSET=w&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=tiles\",\n        //       ],\n        //       tileSize: 256,\n        //     },\n        //     txt: {\n        //       type: \"raster\",\n        //       tiles: [\n        //         \"http://t0.tianditu.com/cva_w/wmts?tk=35a94ab5985969d0b93229c30db6abd6&SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=cva&STYLE=default&TILEMATRIXSET=w&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=tiles\",\n        //       ],\n        //       tileSize: 256,\n        //     },\n        //   },\n        //   layers: [\n        //     {\n        //       id: \"background\",\n        //       type: \"background\",\n        //       paint: {\n        //         \"background-color\": \"black\",\n        //       },\n        //     },\n        //     // {\n        //     //   id: \"tdtVec\",\n        //     //   type: \"raster\",\n        //     //   source: \"tdtVec\",\n        //     // },\n        //     // {\n        //     //   id: \"txt\",\n        //     //   type: \"raster\",\n        //     //   source: \"txt\",\n        //     // },\n        //   ],\n        // },\n      };\n\n      map = new mapBoxGl.Map(mapOpt);\n      map.on(\"load\", () => {\n        map.addLayer(layer);\n      });\n    };\n    onMounted(async () => {\n      const layer = await flowMapbox.value.generateCustomLayer(\"flow\");\n      initMap(layer);\n    });\n    return {\n      container,\n      flowMapbox\n    };\n  }\n});","/* unplugin-vue-components disabled */import { render } from \"./MapboxFlowInstance.vue?vue&type=template&id=7e0dc9fe&scoped=true&ts=true\"\nimport script from \"./MapboxFlowInstance.vue?vue&type=script&lang=ts\"\nexport * from \"./MapboxFlowInstance.vue?vue&type=script&lang=ts\"\n\nimport \"./MapboxFlowInstance.vue?vue&type=style&index=0&id=7e0dc9fe&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7e0dc9fe\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","ref","render","_ctx","_cache","$props","$setup","$data","$options","_component_control_panel","_component_process_component","_","eventObj","flowMapbox","option","flowInstance","components","ControlPanel","ProcessComponent","setup","container","map","seeding","constraints","minSpeedFactor","minTrajectoryNum","minSegmentNum","minFillWidth","minAAWidth","minFixedDropRate","minExtraDropRate","maxSpeedFactor","maxTrajectoryNum","maxSegmentNum","maxFillWidth","maxAAWidth","maxFixedDropRate","maxExtraDropRate","maxTextureSize","parameter","speedFactor","tracksNumber","segmentNumber","fillWidth","aaWidth","color","primitive","fixedDropRate","extraDropRate","extent","flowBoundary","uMax","uMin","vMax","vMin","flowFields","projection","textureSize","flowField","initMap","layer","mapOpt","value","style","center","zoom","useWebGL2","antialias","accessToken","on","addLayer","async","generateCustomLayer","__exports__"],"sourceRoot":""}